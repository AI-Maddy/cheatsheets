â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸŒ TCP/IP - Core Internet Protocol Suite
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Overview
--------
TCP/IP (Transmission Control Protocol/Internet Protocol) is the fundamental communication protocol suite of the internet. It defines how data is packaged, addressed, transmitted, routed, and received across networks.

Key Protocols
-------------
**Layer 4 - Transport**
  - **TCP**: Reliable, connection-oriented, ordered delivery
  - **UDP**: Unreliable, connectionless, fast delivery

**Layer 3 - Network**
  - **IP**: Addressing and routing (IPv4, IPv6)
  - **ICMP**: Error reporting and diagnostics (ping)

**Layer 2 - Data Link**
  - **Ethernet**: Local network frame delivery
  - **ARP**: Maps IP addresses to MAC addresses

TCP vs UDP
----------
+--------------------+----------------------+----------------------+
| Feature            | TCP                  | UDP                  |
+====================+======================+======================+
| Connection         | Connection-oriented  | Connectionless       |
| Reliability        | Guaranteed delivery  | Best effort          |
| Ordering           | In-order delivery    | No ordering          |
| Error Checking     | Extensive            | Basic checksum       |
| Overhead           | Higher (20+ bytes)   | Lower (8 bytes)      |
| Speed              | Slower               | Faster               |
| Use Cases          | Web, file transfer   | Video, VoIP, gaming  |
+--------------------+----------------------+----------------------+

Common Use Cases
----------------
1. **Web Browsing**: HTTP/HTTPS over TCP
2. **Email**: SMTP, POP3, IMAP over TCP
3. **File Transfer**: FTP, SFTP over TCP
4. **Live Streaming**: RTP over UDP
5. **Video Conferencing**: SIP, RTP over UDP
6. **DNS**: Queries typically over UDP

ğŸ’¡ Memory Aid
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ§  MEMORY PALACE: TCP/IP as Postal Service                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  Think of TCP/IP as the MAIL DELIVERY SYSTEM:                            â”‚
â”‚                                                                           â”‚
â”‚  ğŸ“§ [APPLICATION LAYER] = Letter Writer                                  â”‚
â”‚     You write the message content (HTTP, email, video data)               â”‚
â”‚                                                                           â”‚
â”‚  ğŸ“¦ [TCP LAYER] = Packaging Service (Reliable Delivery)                  â”‚
â”‚     "Certified Mail" - guarantees delivery, requires signature            â”‚
â”‚     Breaks big letters into numbered pages (segments)                     â”‚
â”‚     Retries if page lost, ensures correct order                           â”‚
â”‚     OR                                                                    â”‚
â”‚  ğŸ“® [UDP LAYER] = Dropping in Mailbox (Fast, No Guarantees)              â”‚
â”‚     "Regular Mail" - quick, no confirmation, might get lost               â”‚
â”‚     One-shot delivery, no tracking                                        â”‚
â”‚                                                                           â”‚
â”‚  ğŸ  [IP LAYER] = Addressing System                                        â”‚
â”‚     Street address on envelope: "192.168.1.100"                           â”‚
â”‚     Postal service routes between cities/countries                        â”‚
â”‚     Each hop = router forwarding your letter                              â”‚
â”‚                                                                           â”‚
â”‚  ğŸ“¬ [ETHERNET LAYER] = Local Mail Carrier                                â”‚
â”‚     Delivers from local post office to your house                         â”‚
â”‚     MAC address = house number on your street                             â”‚
â”‚                                                                           â”‚
â”‚  The beauty: Each layer adds its own "envelope" wrapping the previous!    â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš¡ OSI Model & TCP/IP Stack Visualization
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Complete Protocol Stack                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  OSI Model (7 Layers)         TCP/IP Model              Examples          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•           â•â•â•â•â•â•â•â•â•â•â•â•              â•â•â•â•â•â•â•â•          â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ 7. Applicationâ”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        HTTP, FTP         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚               â”‚        SMTP, DNS         â”‚
â”‚  â”‚ 6. Presentation             â”‚  Application  â”‚        SIP, RTP          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚               â”‚        SMPTE 2110        â”‚
â”‚  â”‚ 5. Session    â”‚             â”‚               â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                        â†•                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        TCP (reliable)    â”‚
â”‚  â”‚ 4. Transport  â”‚             â”‚   Transport   â”‚        UDP (fast)        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                        â†•                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        IP (routing)      â”‚
â”‚  â”‚ 3. Network    â”‚             â”‚    Internet   â”‚        ICMP (ping)       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        ARP              â”‚
â”‚                                        â†•                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        Ethernet          â”‚
â”‚  â”‚ 2. Data Link  â”‚             â”‚  Network      â”‚        Wi-Fi             â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚  Access       â”‚        (802.3/11)        â”‚
â”‚  â”‚ 1. Physical   â”‚             â”‚               â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                           â”‚
â”‚  Encapsulation Process (sending data):                                    â”‚
â”‚                                                                           â”‚
â”‚   [App Data]                                    â† Application creates     â”‚
â”‚   [TCP Hdr][App Data]                           â† TCP adds header         â”‚
â”‚   [IP Hdr][TCP Hdr][App Data]                   â† IP adds header          â”‚
â”‚   [Eth Hdr][IP Hdr][TCP Hdr][App Data][Eth FCS] â† Ethernet wraps all     â”‚
â”‚                                                                           â”‚
â”‚   Each layer adds overhead (headers/trailers)                             â”‚
â”‚   Total overhead: ~54 bytes minimum (Eth 14 + IP 20 + TCP 20)            â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¦ TCP Packet Structure Deep Dive
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Complete TCP/IP Packet Anatomy                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ETHERNET HEADER (14 bytes)                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Destination MAC: AA:BB:CC:DD:EE:FF (6 bytes)                       â”‚ â”‚
â”‚  â”‚  Source MAC:      11:22:33:44:55:66 (6 bytes)                       â”‚ â”‚
â”‚  â”‚  EtherType:       0x0800 (IPv4) (2 bytes)                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ IP HEADER (20 bytes minimum)                                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Version: 4 (IPv4)                                                  â”‚ â”‚
â”‚  â”‚  IHL (Header Length): 5 (5Ã—4 = 20 bytes)                            â”‚ â”‚
â”‚  â”‚  DSCP: EF (46) â† QoS marking for low latency                        â”‚ â”‚
â”‚  â”‚  ECN: 0                                                             â”‚ â”‚
â”‚  â”‚  Total Length: 1500 bytes (entire IP packet)                        â”‚ â”‚
â”‚  â”‚  Identification: 0x1234 (fragment reassembly)                       â”‚ â”‚
â”‚  â”‚  Flags: DF (Don't Fragment)                                         â”‚ â”‚
â”‚  â”‚  Fragment Offset: 0                                                 â”‚ â”‚
â”‚  â”‚  TTL: 64 (hops remaining)                                           â”‚ â”‚
â”‚  â”‚  Protocol: 6 (TCP) or 17 (UDP)                                      â”‚ â”‚
â”‚  â”‚  Header Checksum: 0xABCD                                            â”‚ â”‚
â”‚  â”‚  Source IP: 192.168.1.100                                           â”‚ â”‚
â”‚  â”‚  Destination IP: 10.20.30.40                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ TCP HEADER (20 bytes minimum)                                       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Source Port: 53214 (ephemeral)                                     â”‚ â”‚
â”‚  â”‚  Destination Port: 80 (HTTP)                                        â”‚ â”‚
â”‚  â”‚  Sequence Number: 1234567890                                        â”‚ â”‚
â”‚  â”‚  Acknowledgment Number: 9876543210                                  â”‚ â”‚
â”‚  â”‚  Data Offset: 5 (5Ã—4 = 20 bytes)                                    â”‚ â”‚
â”‚  â”‚  Flags: ACK, PSH                                                    â”‚ â”‚
â”‚  â”‚    â”œâ”€ SYN: Connection setup                                         â”‚ â”‚
â”‚  â”‚    â”œâ”€ ACK: Acknowledgment                                           â”‚ â”‚
â”‚  â”‚    â”œâ”€ PSH: Push data to application                                 â”‚ â”‚
â”‚  â”‚    â”œâ”€ FIN: Close connection                                         â”‚ â”‚
â”‚  â”‚    â””â”€ RST: Reset connection                                         â”‚ â”‚
â”‚  â”‚  Window Size: 65535 (flow control, bytes receiver can buffer)       â”‚ â”‚
â”‚  â”‚  Checksum: 0xDEAD                                                   â”‚ â”‚
â”‚  â”‚  Urgent Pointer: 0                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PAYLOAD (Application Data)                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  MTU 1500 - Eth 14 - IP 20 - TCP 20 = 1446 bytes max payload       â”‚ â”‚
â”‚  â”‚                                                                     â”‚ â”‚
â”‚  â”‚  GET /video.mp4 HTTP/1.1\r\n                                        â”‚ â”‚
â”‚  â”‚  Host: example.com\r\n                                              â”‚ â”‚
â”‚  â”‚  ...                                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ETHERNET FCS (4 bytes)                                              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  CRC checksum for error detection                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                           â”‚
â”‚  Total: 14 + 20 + 20 + 1446 + 4 = 1504 bytes on wire                     â”‚
â”‚  (Note: Ethernet preamble + SFD adds 8 more bytes, not shown)            â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IP Addressing
-------------
**IPv4** (32-bit)::

    192.168.1.100
    10.0.0.0/8 (private)
    172.16.0.0/12 (private)
    192.168.0.0/16 (private)

**IPv6** (128-bit)::

    2001:0db8:85a3:0000:0000:8a2e:0370:7334
    fe80::/10 (link-local)
    fc00::/7 (unique local)

TCP Three-Way Handshake
-----------------------
::

    Client                    Server
      |                          |
      |-------- SYN ----------->|  (Initiate connection)
      |                          |
      |<------ SYN-ACK ---------|  (Acknowledge + sync)
      |                          |
      |-------- ACK ----------->|  (Connection established)
      |                          |
      |==== Data Transfer =====|

Port Numbers
------------
**Well-Known Ports** (0-1023)::

    20/21  - FTP
    22     - SSH
    23     - Telnet
    25     - SMTP
    53     - DNS
    80     - HTTP
    443    - HTTPS

**Registered Ports** (1024-49151)::

    5004   - RTP (common)
    5060   - SIP
    8080   - HTTP alternate

**Dynamic Ports** (49152-65535):
  - Ephemeral ports for client connections

TCP Congestion Control
----------------------
- **Slow Start**: Gradually increase sending rate
- **Congestion Avoidance**: Maintain stable rate
- **Fast Retransmit**: Quick recovery on packet loss
- **Fast Recovery**: Avoid slow start after loss

Important Concepts
------------------
- **MSS** (Maximum Segment Size): Largest TCP payload (typically 1460 bytes)
- **MTU** (Maximum Transmission Unit): Largest packet size (typically 1500 bytes)
- **TTL** (Time To Live): Hop limit to prevent routing loops
- **PMTU** (Path MTU Discovery): Find largest packet size for path

Diagnostic Commands
-------------------
Check connectivity::

    ping 8.8.8.8

Trace route::

    traceroute google.com

Show network configuration::

    ifconfig  # or: ip addr show

Show routing table::

    netstat -rn  # or: ip route show

Show active connections::

    netstat -an  # or: ss -tuln

ğŸ”§ Troubleshooting Guide
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Problem: Cannot reach destination / "Connection timed out"                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ Check Layer 3 connectivity:                                             â”‚
â”‚   $ ping 8.8.8.8  (Google DNS - test internet)                           â”‚
â”‚   $ ping 192.168.1.1  (test local gateway)                               â”‚
â”‚   No response? Layer 3 routing issue                                      â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Trace route to see where packets stop:                                  â”‚
â”‚   $ traceroute google.com                                                 â”‚
â”‚   $ mtr google.com  (continuous traceroute)                               â”‚
â”‚   Shows each hop; timeout = routing black hole                            â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Check default gateway:                                                  â”‚
â”‚   $ ip route show                                                         â”‚
â”‚   $ route -n                                                              â”‚
â”‚   Ensure default route points to correct gateway                          â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Verify firewall not blocking:                                           â”‚
â”‚   $ iptables -L -n -v                                                     â”‚
â”‚   $ ufw status                                                            â”‚
â”‚   Look for DROP rules blocking your traffic                               â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Check DNS resolution:                                                   â”‚
â”‚   $ nslookup google.com                                                   â”‚
â”‚   $ dig google.com                                                        â”‚
â”‚   Can't resolve? DNS misconfigured, check /etc/resolv.conf                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Problem: High latency / slow connection                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ Measure latency:                                                        â”‚
â”‚   $ ping -c 100 8.8.8.8                                                   â”‚
â”‚   Watch for: avg latency, jitter (stddev), packet loss %                  â”‚
â”‚   Good: <50ms, <5ms jitter, <1% loss for video streaming                  â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Check network interface errors:                                         â”‚
â”‚   $ ethtool -S eth0 | grep -E '(error|drop|collision)'                   â”‚
â”‚   $ ifconfig eth0  (look for errors, overruns)                           â”‚
â”‚   Errors/drops indicate physical layer issues                             â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Test bandwidth:                                                         â”‚
â”‚   $ iperf3 -c <server>  (TCP throughput test)                            â”‚
â”‚   $ iperf3 -c <server> -u -b 100M  (UDP test for video)                  â”‚
â”‚   Compare to expected bandwidth                                           â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Check for congestion:                                                   â”‚
â”‚   $ netstat -s | grep retransmit                                          â”‚
â”‚   $ ss -ti  (shows TCP congestion window, retransmits)                   â”‚
â”‚   High retransmits = packet loss or congestion                            â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Verify MTU not causing fragmentation:                                   â”‚
â”‚   $ ping -M do -s 1472 8.8.8.8  (test 1500 byte MTU)                     â”‚
â”‚   If fails, try: -s 1200, adjust MTU accordingly                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Problem: TCP connection resets / "Connection refused"                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ Verify service is listening:                                            â”‚
â”‚   $ netstat -tuln | grep :80                                              â”‚
â”‚   $ ss -tuln | grep :80                                                   â”‚
â”‚   Should show LISTEN state on port 80                                     â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Check if port is firewalled:                                            â”‚
â”‚   $ telnet <host> 80                                                      â”‚
â”‚   $ nc -zv <host> 80  (netcat port check)                                â”‚
â”‚   "Connection refused" = nothing listening                                â”‚
â”‚   Timeout = firewall blocking                                             â”‚
â”‚                                                                           â”‚
â”‚ âœ“ See recent connection resets:                                           â”‚
â”‚   $ netstat -s | grep -i reset                                            â”‚
â”‚   $ dmesg | grep -i "connection reset"                                    â”‚
â”‚   Application may be crashing or rejecting connections                    â”‚
â”‚                                                                           â”‚
â”‚ âœ“ Check TCP state:                                                        â”‚
â”‚   $ ss -tan state established                                             â”‚
â”‚   $ ss -tan state time-wait  (stuck connections?)                         â”‚
â”‚   Too many TIME_WAIT? Adjust net.ipv4.tcp_tw_reuse                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš¡ Quick Network Diagnostics
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer-by-Layer Troubleshooting:                                           â”‚
â”‚                                                                           â”‚
â”‚ 1. Physical Layer:                                                        â”‚
â”‚    $ ethtool eth0  (check link up/down, speed, duplex)                   â”‚
â”‚    $ ip link show eth0                                                    â”‚
â”‚                                                                           â”‚
â”‚ 2. Data Link Layer:                                                       â”‚
â”‚    $ ip neigh show  (ARP table)                                           â”‚
â”‚    $ arp -an                                                              â”‚
â”‚                                                                           â”‚
â”‚ 3. Network Layer:                                                         â”‚
â”‚    $ ip route show  (routing table)                                       â”‚
â”‚    $ ping <gateway>                                                       â”‚
â”‚                                                                           â”‚
â”‚ 4. Transport Layer:                                                       â”‚
â”‚    $ ss -tuln  (listening ports)                                          â”‚
â”‚    $ netstat -an  (all connections)                                       â”‚
â”‚                                                                           â”‚
â”‚ 5. Application Layer:                                                     â”‚
â”‚    $ curl -v http://example.com                                           â”‚
â”‚    $ tcpdump -i eth0 port 80  (packet capture)                           â”‚
â”‚                                                                           â”‚
â”‚ Full Packet Capture:                                                      â”‚
â”‚    $ tcpdump -i eth0 -w capture.pcap                                      â”‚
â”‚    Analyze with: Wireshark, tshark                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
